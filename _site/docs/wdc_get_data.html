<!DOCTYPE html>
<html>

<head>
      <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v -->



<meta name="generator" content="Jekyll v4.3.2" />





<meta property="og:locale" content="" />

  <link rel="shortcut icon" type="image/png" href="/webdataconnector/assets/logo.png">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/webdataconnector/assets/css/main.css">
  <link rel="stylesheet" href="/webdataconnector/assets/css/github-highlight.css">

  <script src="/webdataconnector/assets/js/redirect-to-search.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>



</head>

<body>
    <div class="container">
        <header class="site-header">
  <div class="wrapper">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand navbar-brand-logo" href="/webdataconnector/#">Tableau Web Data Connector</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/webdataconnector/docs/index.html">Docs</a></li>
            <li><a href="/webdataconnector/docs/api_ref.html">API Reference</a></li>
            <li><a href="/webdataconnector/community/">Community Connectors</a></li>
            <li><a target="_blank" href="https://community.tableau.com/s/topic/0TO4T000000QFBJWA4/web-data-connector">Forum</a></li>
            <li><a href="/webdataconnector/news/">What's New?</a></li>
            
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="tableauIcon"><a target="_blank" href="http://tableau.com"><img src="/webdataconnector/assets/logo.png" alt="Tableau Developers" class="logo" /></a></li>
            <li><a target="_blank" href="https://github.com/tableau/webdataconnector"><span class="icon icon--github" title="WDC on GitHub" alt="WDC on GitHub"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  </div>
</header>

        <div class="well docs-menu col-xs-12 col-sm-4 col-md-3">
    <div class="search-container form-group has-feedback">
    <form id="docs-search">
        <input type="search" id="search-input" class="custom-search form-control" placeholder="Search the docs..." search-url="/webdataconnector/docs/search.html">
        <span class="glyphicon glyphicon-search form-control-feedback"></span>
    </form>
</div>


    <ul class="nav nav-list">
        <li class="nav-header">Overview</li>
        <li>
            <a href="/webdataconnector/docs/index.html">Get Started</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_tutorial.html">Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_use_in_tableau.html">Use a WDC in Tableau Desktop</a>
        </li>
		<li>
            <a href="/webdataconnector/docs/wdc_use_in_server.html">Use a WDC in Tableau Server</a>
        </li>

        <li class="nav-header">Basic Concepts</li>
        <li>
            <a href="/webdataconnector/docs/wdc_phases.html">Lifecycle and Phases</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_library_versions.html">API Versions</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_samples.html">Samples</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_debugging.html">Debugging in the Simulator and Tableau</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_hosting_and_submissions.html">Hosting and Submitting to Community Portal</a>
        </li>

        <li class="nav-header">Advanced Concepts</li>
        <li>
            <a href="/webdataconnector/docs/wdc_multi_table_tutorial.html">Multiple Tables Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_oauth_tutorial.html">Node.js Proxy with OAuth Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_standard_connections.html">Standard Connections</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_join_filtering.html">Join Filtering</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_custom_init_and_shutdown.html">Custom Initialization and Shutdown</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_get_data.html">Get Data: Best Practices</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_incremental_refresh.html">Incremental Refresh</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_authentication.html">Authentication</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_cors.html">Working with CORS</a>
        </li>

        <li class="nav-header">Reference</li>
        <li>
            <a href="/webdataconnector/docs/wdc_resources.html">Resources</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_ref_date_formats.html">Supported Date Formats</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_faq.html">FAQ</a>
        </li>
		    <li>
		    <a href="/webdataconnector/docs/wdc_upgrade.html">Upgrading from WDC Version 1.x</a>
        </li>
        <li>
		    <a href="/webdataconnector/docs/wdc_webengine.html">Troubleshoot WDC WebEngine Issues</a>
		   </li>
           <li>
		    <a href="/webdataconnector/docs/wdc_about.html">About Tableau Help</a>
		   </li>
    </ul>
</div>


        <div class="content .col-xs-12 .col-sm-8 .col-md-9">
            <h1>Get Data - Best Practices</h1>
            <div class="alert alert-info"><p><strong>Important</strong>: Tableau Web Data Connector 2.0 (this version) is being deprecated at Tableau 2023.1 and eventually retired. We will still support WDC 2.0 until its last compatible version of Tableau (Tableau 2022.4) goes End of Life and is no longer supported.</p>

            <p>For information about Tableau Web Data Connector 3.0, see the <a href="https://help.tableau.com/current/api/webdataconnector/en-us/index.html">WDC 3.0 documentation</a>.</p>
            </div>
            <div class="edit-container">
                <a href="https://github.com/tableau/webdataconnector/edit/master/docs/wdc_get_data.md" class="edit-links"><span class="glyphicon glyphicon-pencil"></span> Edit this page</a>
                &nbsp;
                <a href="https://github.com/tableau/webdataconnector/issues" class="edit-links"><span class="glyphicon glyphicon-flag"></span> Submit an issue</a>
            </div>
            <br />
            <p>In the WDC Gather Data Phase, itâ€™s a best practice to insert data into the extract you create in manageable amounts. This is often called <em>data chunking</em> or <em>paging</em> and it can help improve performance and can keep the WDC from overloading Tableau, and can provide a better experience for end-users because they can see regular progress indicators. This best practice is important when you are working with very large data sets.</p>

<div class="alert alert-info"><b>Note:</b> In Tableau 2019.4 and later, Web Data Connectors use Qt WebEngine as the internal browser. The version of the Qt WebEngine we currently use has a limitation in its data communication channel of approximately 128MB. If your WDC appends more data than can be transmitted at one time, the WDC is created and initialized, but no data is added. To avoid this problem, be sure to insert your data in chunks that are less than 128MB. For more information about this issue, see <a href="/webdataconnector\docs\wdc_webengine.html">Troubleshoot WDC WebEngine Issues in Tableau 2019.4 and later</a>.</div>

<p>This topic describes an approach that could be used to add data in chunks during the WDC Gather Data Phase.</p>

<hr />
<p><strong>In this section:</strong></p>
<ul id="markdown-toc">
  <li><a href="#append-rows-in-the-wdc-gather-data-phase" id="markdown-toc-append-rows-in-the-wdc-gather-data-phase">Append rows in the WDC Gather Data Phase</a></li>
  <li><a href="#determine-how-to-split-your-data" id="markdown-toc-determine-how-to-split-your-data">Determine how to split your data</a></li>
  <li><a href="#use-the-reportprogress-function-to-log-your-commits" id="markdown-toc-use-the-reportprogress-function-to-log-your-commits">Use the reportProgress function to log your commits</a></li>
  <li><a href="#example-code-earthquakeusgs" id="markdown-toc-example-code-earthquakeusgs">Example code: EarthquakeUSGS</a></li>
</ul>

<hr />

<h2 id="append-rows-in-the-wdc-gather-data-phase">Append rows in the WDC Gather Data Phase</h2>

<p>You might recall from the WDC lifecyle diagram shown in <a href="/webdataconnector/docs/wdc_phases.html">WDC Lifecyle and Phases</a>, the WDC Gather Data Phase includes the call to <code class="language-plaintext highlighter-rouge">getData</code>, which is called once for each schema (or table). Within that <code class="language-plaintext highlighter-rouge">getData</code> function call, you can call <code class="language-plaintext highlighter-rouge">table.appendRows</code> as many times as you need to append data to the table that is created. The <code class="language-plaintext highlighter-rouge">appendRows</code> function allows you to insert your data in manageable chunks.</p>

<p><img class="img-responsive docs-img" src="/webdataconnector/assets/wdc_flow_data.png" alt="" /></p>

<p>The diagram legend is as follows.</p>

<p><img class="img-responsive docs-img" src="/webdataconnector/assets/wdc_flow_legend.png" alt="" /></p>

<h2 id="determine-how-to-split-your-data">Determine how to split your data</h2>

<p>How you determine the amount of data to append at a time depends upon the overall size of your data. If your data is very large (over 128MB, for example), you will need to break it down in to smaller chunks. If you data set is small, you might not need to chunk it at all.</p>

<p>The <code class="language-plaintext highlighter-rouge">appendRows</code> function has one parameter, which can be an array of arrays or an array of objects. A common way to split the data is by having the same number of rows in each chunk. Some rows may be larger in size than others, so you may have to iterate to find an appropriate number of rows.</p>

<p>The following <code class="language-plaintext highlighter-rouge">appendRows</code> example shows how you might create a size variable and use that with a row count variable to iterate through the data. Rather than building the extract all at once with the call to <code class="language-plaintext highlighter-rouge">table.appendRows</code>, the WDC uses a <code class="language-plaintext highlighter-rouge">while</code> loop to call the <code class="language-plaintext highlighter-rouge">appendRows</code> function iteratively based upon the row index and the size we chose to increment. In this example, we use a size variable that is an arbitrary integer that determines how much of the data to append. It represents the number of items in the array to add at one time. In this example, we use the JavaScript <code class="language-plaintext highlighter-rouge">slice</code> function to split the <code class="language-plaintext highlighter-rouge">tableData</code> array into smaller chunks. The size we use is 100, so 100 rows from the <code class="language-plaintext highlighter-rouge">tableData</code> array are added to the extract at a time. For large data sets, you would probably want to use a larger value to improve the performance. Be sure to use a size value that keeps amount of data added in each <code class="language-plaintext highlighter-rouge">appendRows</code> call under 128MB.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="c1">//  called inside the getData function </span>
    <span class="c1">//  after we populate the tableData </span>

       <span class="kd">var</span> <span class="nx">row_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
       <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
       <span class="nf">while </span><span class="p">(</span><span class="nx">row_index</span> <span class="o">&lt;</span> <span class="nx">tableData</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
            <span class="nx">table</span><span class="p">.</span><span class="nf">appendRows</span><span class="p">(</span><span class="nx">tableData</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">row_index</span><span class="p">,</span> <span class="nx">size</span> <span class="o">+</span> <span class="nx">row_index</span><span class="p">));</span>
            <span class="nx">row_index</span> <span class="o">+=</span> <span class="nx">size</span><span class="p">;</span>
            <span class="nx">tableau</span><span class="p">.</span><span class="nf">reportProgress</span><span class="p">(</span><span class="dl">"</span><span class="s2">Getting row: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">row_index</span><span class="p">);</span>
        <span class="p">}</span>

</code></pre></div></div>

<h2 id="use-the-reportprogress-function-to-log-your-commits">Use the reportProgress function to log your commits</h2>

<p>The <code class="language-plaintext highlighter-rouge">appendRows</code> example also makes use of the <code class="language-plaintext highlighter-rouge">reportProgress</code> function. This function allows you to follow the progress of the Gather Data phase in Tableau. It is a best practice to call this function as you add your data to the extract.</p>

<div class="alert alert-info">Note that the <code>reportProgress</code> function is intended to inform Tableau Desktop users. Tableau Server users will not see the message, and calling the <code>reportProgress</code> function with a very high frequency could adversely affect performance. Note also that calling <code>console.log</code> or <code>tableau.log</code> in a similar manner with very high frequency could also affect performance.
</div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">tableau</span><span class="p">.</span><span class="nf">reportProgress</span><span class="p">(</span><span class="dl">"</span><span class="s2">Getting row: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">row_index</span><span class="p">);</span>

</code></pre></div></div>

<p>The progress is displayed in Tableau. For example, when you first load your WDC you are taken to the <strong>Data Source</strong> pane. When you click the <strong>Sheet 1</strong> tab for the first time, the worksheet opens and the Create Extract dialog box appears and reports the progress. This can be helpful when you are loading a very large data set. With a small data set, the extract creation process goes quickly, so you might not see the progress dialog if the size increment you use is large.</p>

<p><img class="img-responsive docs-img" src="/webdataconnector/assets/wdc_tableau.reportProgress.png" alt="" /></p>

<hr />

<h2 id="example-code-earthquakeusgs">Example code: EarthquakeUSGS</h2>

<p>The following example is based upon the <a href="/webdataconnector/docs/wdc_data_tutorial.html">Tutorial</a> and the EarthquakeUSGS sample. It is a slightly modified version of the <code class="language-plaintext highlighter-rouge">earthquakeUSGS.js</code> file you created in the tutorial. In this case, rather than building the extract all at once with the call to <code class="language-plaintext highlighter-rouge">table.appendRows</code>, the WDC uses a <code class="language-plaintext highlighter-rouge">while</code> loop to call the <code class="language-plaintext highlighter-rouge">appendRows</code> function iteratively based upon the row index and the size we chose to increment. The example also looks at a larger data set, in this case all the earthquakes (of any size) reported in the last month.</p>

<p>In this example, we create a function called <em>chunkData</em> that is a wrapper for the <code class="language-plaintext highlighter-rouge">while</code> loop we used in the previous example. Our <em>chunkData</em> function is called from the WDC <code class="language-plaintext highlighter-rouge">getData</code> function. You could create a function similar to this in your own WDC. Our <em>chunkData</em> function takes <code class="language-plaintext highlighter-rouge">table</code> and <code class="language-plaintext highlighter-rouge">tableData</code> as arguments. In our function, we use a <em>size</em> variable, which is an arbitrary integer value that we use to determine how much of the data we want to append. The data set we are using isnâ€™t very large (less than 8MB). In this case, we chose 100 but you might need to use a larger value in your own function for better performance. Progress is reported as each row is added.</p>

<hr />

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Create the connector object</span>
    <span class="kd">var</span> <span class="nx">myConnector</span> <span class="o">=</span> <span class="nx">tableau</span><span class="p">.</span><span class="nf">makeConnector</span><span class="p">();</span>

    <span class="c1">// Define the schema</span>
    <span class="nx">myConnector</span><span class="p">.</span><span class="nx">getSchema</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">schemaCallback</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cols</span> <span class="o">=</span> <span class="p">[{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="nx">tableau</span><span class="p">.</span><span class="nx">dataTypeEnum</span><span class="p">.</span><span class="nx">string</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">mag</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">alias</span><span class="p">:</span> <span class="dl">"</span><span class="s2">magnitude</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="nx">tableau</span><span class="p">.</span><span class="nx">dataTypeEnum</span><span class="p">.</span><span class="nx">float</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">alias</span><span class="p">:</span> <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="nx">tableau</span><span class="p">.</span><span class="nx">dataTypeEnum</span><span class="p">.</span><span class="nx">string</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">location</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">dataType</span><span class="p">:</span> <span class="nx">tableau</span><span class="p">.</span><span class="nx">dataTypeEnum</span><span class="p">.</span><span class="nx">geometry</span>
        <span class="p">}];</span>

        <span class="kd">var</span> <span class="nx">tableSchema</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">earthquakeFeed</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">alias</span><span class="p">:</span> <span class="dl">"</span><span class="s2">All earthquakes in the last 30 days</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">columns</span><span class="p">:</span> <span class="nx">cols</span>
        <span class="p">};</span>

        <span class="nf">schemaCallback</span><span class="p">([</span><span class="nx">tableSchema</span><span class="p">]);</span>
    <span class="p">};</span>

    <span class="c1">// Download the data</span>
    <span class="nx">myConnector</span><span class="p">.</span><span class="nx">getData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">doneCallback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">.</span><span class="nf">getJSON</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.geojson</span><span class="dl">"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">resp</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">feat</span> <span class="o">=</span> <span class="nx">resp</span><span class="p">.</span><span class="nx">features</span><span class="p">,</span>
                <span class="nx">tableData</span> <span class="o">=</span> <span class="p">[];</span>

            <span class="c1">// Iterate over the JSON object</span>
            <span class="nf">for </span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">feat</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">tableData</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span>
                    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="nx">feat</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">mag</span><span class="dl">"</span><span class="p">:</span> <span class="nx">feat</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">properties</span><span class="p">.</span><span class="nx">mag</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">:</span> <span class="nx">feat</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">properties</span><span class="p">.</span><span class="nx">title</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">location</span><span class="dl">"</span><span class="p">:</span> <span class="nx">feat</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">geometry</span>
                <span class="p">});</span>
            <span class="p">}</span>
            <span class="c1">// add the data </span>
            <span class="nf">chunkData</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">tableData</span><span class="p">);</span>
            <span class="nf">doneCallback</span><span class="p">();</span>
        <span class="p">});</span>
    <span class="p">};</span>

    <span class="c1">// add the data in manageable chunks</span>
    <span class="kd">function</span> <span class="nf">chunkData</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">tableData</span><span class="p">){</span>
       <span class="kd">var</span> <span class="nx">row_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
       <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
       <span class="nf">while </span><span class="p">(</span><span class="nx">row_index</span> <span class="o">&lt;</span> <span class="nx">tableData</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span>
            <span class="nx">table</span><span class="p">.</span><span class="nf">appendRows</span><span class="p">(</span><span class="nx">tableData</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">row_index</span><span class="p">,</span> <span class="nx">size</span> <span class="o">+</span> <span class="nx">row_index</span><span class="p">));</span>
            <span class="nx">row_index</span> <span class="o">+=</span> <span class="nx">size</span><span class="p">;</span>
            <span class="nx">tableau</span><span class="p">.</span><span class="nf">reportProgress</span><span class="p">(</span><span class="dl">"</span><span class="s2">Getting row: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">row_index</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">tableau</span><span class="p">.</span><span class="nf">registerConnector</span><span class="p">(</span><span class="nx">myConnector</span><span class="p">);</span>

     <span class="c1">// Create event listeners for when the user submits the form</span>
    <span class="nf">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nf">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">#submitButton</span><span class="dl">"</span><span class="p">).</span><span class="nf">click</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">tableau</span><span class="p">.</span><span class="nx">connectionName</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">USGS Earthquake Feed</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// This will be the data source name in Tableau</span>
            <span class="nx">tableau</span><span class="p">.</span><span class="nf">submit</span><span class="p">();</span> <span class="c1">// This sends the connector object to Tableau</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">})();</span>


</code></pre></div></div>

            <!-- Footer -->
<footer>
    <div class="row">
            <hr class="footer-hr">
            <p>This site is open source. Suggestions and pull requests are welcome on our <a href="https://github.com/tableau/webdataconnector">GitHub page</a>.</p>
            <p><a href="https://www.tableau.com/en-us/legal" class="aLegal">LEGAL</a> <a href="https://www.salesforce.com/company/privacy/" class="aLegal">PRIVACY</a> &copy; 2003&ndash;<script>document.write(new Date().getFullYear())</script> TABLEAU SOFTWARE LLC. ALL RIGHTS RESERVED</p>
            <sub>Documentation last generated on: 2023-03-07 13:27:13 -0800</sub>
    </div>
</footer>

        </div>
    </div>
</body>

</html>
