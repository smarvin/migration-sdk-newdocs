<!DOCTYPE html>
<html>

<head>
      <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v -->



<meta name="generator" content="Jekyll v4.3.2" />





<meta property="og:locale" content="" />

  <link rel="shortcut icon" type="image/png" href="/webdataconnector/assets/logo.png">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/webdataconnector/assets/css/main.css">
  <link rel="stylesheet" href="/webdataconnector/assets/css/github-highlight.css">

  <script src="/webdataconnector/assets/js/redirect-to-search.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>



</head>

<body>
    <div class="container">
        <header class="site-header">
  <div class="wrapper">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand navbar-brand-logo" href="/webdataconnector/#">Tableau Web Data Connector</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/webdataconnector/docs/index.html">Docs</a></li>
            <li><a href="/webdataconnector/docs/api_ref.html">API Reference</a></li>
            <li><a href="/webdataconnector/community/">Community Connectors</a></li>
            <li><a target="_blank" href="https://community.tableau.com/s/topic/0TO4T000000QFBJWA4/web-data-connector">Forum</a></li>
            <li><a href="/webdataconnector/news/">What's New?</a></li>
            
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li class="tableauIcon"><a target="_blank" href="http://tableau.com"><img src="/webdataconnector/assets/logo.png" alt="Tableau Developers" class="logo" /></a></li>
            <li><a target="_blank" href="https://github.com/tableau/webdataconnector"><span class="icon icon--github" title="WDC on GitHub" alt="WDC on GitHub"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span></a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
  </div>
</header>

        <div class="well docs-menu col-xs-12 col-sm-4 col-md-3">
    <div class="search-container form-group has-feedback">
    <form id="docs-search">
        <input type="search" id="search-input" class="custom-search form-control" placeholder="Search the docs..." search-url="/webdataconnector/docs/search.html">
        <span class="glyphicon glyphicon-search form-control-feedback"></span>
    </form>
</div>


    <ul class="nav nav-list">
        <li class="nav-header">Overview</li>
        <li>
            <a href="/webdataconnector/docs/index.html">Get Started</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_tutorial.html">Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_use_in_tableau.html">Use a WDC in Tableau Desktop</a>
        </li>
		<li>
            <a href="/webdataconnector/docs/wdc_use_in_server.html">Use a WDC in Tableau Server</a>
        </li>

        <li class="nav-header">Basic Concepts</li>
        <li>
            <a href="/webdataconnector/docs/wdc_phases.html">Lifecycle and Phases</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_library_versions.html">API Versions</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_samples.html">Samples</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_debugging.html">Debugging in the Simulator and Tableau</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_hosting_and_submissions.html">Hosting and Submitting to Community Portal</a>
        </li>

        <li class="nav-header">Advanced Concepts</li>
        <li>
            <a href="/webdataconnector/docs/wdc_multi_table_tutorial.html">Multiple Tables Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_oauth_tutorial.html">Node.js Proxy with OAuth Tutorial</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_standard_connections.html">Standard Connections</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_join_filtering.html">Join Filtering</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_custom_init_and_shutdown.html">Custom Initialization and Shutdown</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_get_data.html">Get Data: Best Practices</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_incremental_refresh.html">Incremental Refresh</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_authentication.html">Authentication</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_cors.html">Working with CORS</a>
        </li>

        <li class="nav-header">Reference</li>
        <li>
            <a href="/webdataconnector/docs/wdc_resources.html">Resources</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_ref_date_formats.html">Supported Date Formats</a>
        </li>
        <li>
            <a href="/webdataconnector/docs/wdc_faq.html">FAQ</a>
        </li>
		    <li>
		    <a href="/webdataconnector/docs/wdc_upgrade.html">Upgrading from WDC Version 1.x</a>
        </li>
        <li>
		    <a href="/webdataconnector/docs/wdc_webengine.html">Troubleshoot WDC WebEngine Issues</a>
		   </li>
           <li>
		    <a href="/webdataconnector/docs/wdc_about.html">About Tableau Help</a>
		   </li>
    </ul>
</div>


        <div class="content .col-xs-12 .col-sm-8 .col-md-9">
            <h1>Troubleshoot WDC WebEngine Issues in Tableau 2019.4 and later</h1>
            <div class="alert alert-info"><p><strong>Important</strong>: Tableau Web Data Connector 2.0 (this version) is being deprecated at Tableau 2023.1 and eventually retired. We will still support WDC 2.0 until its last compatible version of Tableau (Tableau 2022.4) goes End of Life and is no longer supported.</p>

            <p>For information about Tableau Web Data Connector 3.0, see the <a href="https://help.tableau.com/current/api/webdataconnector/en-us/index.html">WDC 3.0 documentation</a>.</p>
            </div>
            <div class="edit-container">
                <a href="https://github.com/tableau/webdataconnector/edit/master/docs/wdc_webengine.md" class="edit-links"><span class="glyphicon glyphicon-pencil"></span> Edit this page</a>
                &nbsp;
                <a href="https://github.com/tableau/webdataconnector/issues" class="edit-links"><span class="glyphicon glyphicon-flag"></span> Submit an issue</a>
            </div>
            <br />
            <p>Prior to Tableau 2019.4, Web Data Connectors used an internal browser in Tableau called Qt WebKit. In Tableau 2019.4 and later, Web Data Connectors use Qt WebEngine, a Chromium-based browser. The Qt WebEngine is a significant upgrade over the previous internal browser and WDC developers will benefit from being able to use modern JavaScript tools and practices that improve the user interface and user interactions. The new browser provides better support for HTML5 and allows developers to use modern debugging tools and the <a href="https://developers.google.com/web/tools/chrome-devtools" target="_blank" ref="noopener">Chrome DevTools</a> for debugging WDC code.</p>

<p>However, because of the internal browser change, some customers might experience problems using their existing connectors in Tableau 2019.4 and later. This topic describes some of these issues and provides possible solutions.</p>

<hr />

<ul id="markdown-toc">
  <li><a href="#before-you-begin" id="markdown-toc-before-you-begin">Before you begin</a></li>
  <li><a href="#although-the-extract-is-created-successfully-no-data-is-inserted-into-it" id="markdown-toc-although-the-extract-is-created-successfully-no-data-is-inserted-into-it">Although the extract is created successfully, no data is inserted into it</a></li>
  <li><a href="#starting-tableau-using-tableauexe--debugwdc-doesnt-work" id="markdown-toc-starting-tableau-using-tableauexe--debugwdc-doesnt-work">Starting Tableau using <code class="language-plaintext highlighter-rouge">tableau.exe -DebugWDC</code> doesn’t work</a></li>
  <li><a href="#debugging-connection-was-closed-when-refreshing-the-extract" id="markdown-toc-debugging-connection-was-closed-when-refreshing-the-extract">Debugging connection was closed (when refreshing the extract)</a></li>
  <li><a href="#the-wdc-library-wdclib-version-not-supported" id="markdown-toc-the-wdc-library-wdclib-version-not-supported">The WDC library (<code class="language-plaintext highlighter-rouge">wdclib</code>) version not supported</a></li>
  <li><a href="#javascript-console-errors-such-as-not-a-valid-wdc-or-tableauxxx-not-a-valid-object" id="markdown-toc-javascript-console-errors-such-as-not-a-valid-wdc-or-tableauxxx-not-a-valid-object">JavaScript console errors, such as <code class="language-plaintext highlighter-rouge">not a valid WDC</code> or <code class="language-plaintext highlighter-rouge">tableau.XXX not a valid object</code></a></li>
  <li><a href="#mixed-mode-https-errors" id="markdown-toc-mixed-mode-https-errors">Mixed-mode HTTP(S) errors</a></li>
  <li><a href="#cookies-are-not-preserved-between-instances-of-the-wdc-connection-dialog" id="markdown-toc-cookies-are-not-preserved-between-instances-of-the-wdc-connection-dialog">Cookies are not preserved between instances of the WDC connection dialog</a></li>
</ul>

<hr />

<h3 id="before-you-begin">Before you begin</h3>

<p>Before diagnosing problems, be sure to launch Tableau Desktop with debugging enabled  (<code class="language-plaintext highlighter-rouge">--remote-debugging-port=9000</code> option) and check for console messages. For more information, see <a href="/webdataconnector/docs/wdc_debugging.html">Debugging in the Simulator and the Debugger</a>.</p>

<p>The console messages will also be written to the Tableau log file (regular log file on Tableau Desktop; the <code class="language-plaintext highlighter-rouge">tabprotosrv</code> logs on Tableau Server). To open the WDC in the debugger, open a new Chrome browser instance and set the URL to <code class="language-plaintext highlighter-rouge">localhost:9000</code>. Select the WDC in the browser and begin debugging. For  more information, see <a href="/webdataconnector/docs/wdc_debugging.html#debug-chrome">Debugging a WDC in Tableau Desktop 2019.4 (and later)</a>.</p>

<hr />
<p><a name="data_limit"></a></p>
<h3 id="although-the-extract-is-created-successfully-no-data-is-inserted-into-it">Although the extract is created successfully, no data is inserted into it</h3>

<p><strong>Details:</strong> In Tableau 2019.4 and later, Web Data Connectors use Qt WebEngine as the internal browser. The version of the Qt WebEngine we currently use has a limitation in its data communication channel of approximately 128MB. This limitation restricts the amount of data that you can append to the extract at a time. In addition, the actual amount of data you can append could appear to be much smaller than 128MB, as there is often some additional information or metadata associated with the data. If your WDC appends more data than can be transmitted, the WDC is created and initialized but no data is added. For information on the Qt limitation, see <a href="https://bugreports.qt.io/browse/QTBUG-47629" target="_blank" ref="noopener">QTBUG-47629</a></p>

<p><strong>Resolution:</strong>  Depending upon the size of your data, it’s a best practice to insert data into the table in amounts smaller than 128MB (accounting for the additional metadata). For more information and for example code showing one way of breaking up the data into smaller chunks, see <a href="/webdataconnector/docs/wdc_get_data.html">Get Data - Best Practices</a>.</p>

<hr />

<h3 id="starting-tableau-using-tableauexe--debugwdc-doesnt-work">Starting Tableau using <code class="language-plaintext highlighter-rouge">tableau.exe -DebugWDC</code> doesn’t work</h3>

<p><strong>Resolution:</strong> Starting with Tableau 2019.4, you can use the <a href="https://developers.google.com/web/tools/chrome-devtools" target="_blank" ref="noopener">Chrome DevTools</a> to debug WDCs. You no longer use the built-in debugger that was available in earlier versions of Tableau (before Tableau 2019.4). See <a href="/webdataconnector/docs/wdc_debugging.html#debug-chrome">Debugging a WDC in Tableau Desktop 2019.4 (and later)</a>.</p>

<hr />

<h3 id="debugging-connection-was-closed-when-refreshing-the-extract">Debugging connection was closed (when refreshing the extract)</h3>

<p><strong>Resolution:</strong> When performing data refreshes, you might find it challenging to stay connected to a remote debugging session using the Chrome Developer Tools. This is because Tableau disconnects the debugging connection before performing a refresh of an extract, causing the debugging session to be reset, which requires that you open a new instance of the Chrome Developer Tools to make the new connection. The recommended way to debug the <code class="language-plaintext highlighter-rouge">getSchema</code> and <code class="language-plaintext highlighter-rouge">getData</code> methods is to use the Tableau Data pane and then set breakpoints in the Developer Tools.</p>

<ol>
  <li>
    <p>Start Tableau (with remote debugging enabled and connect to your WDC (see <a href="/webdataconnector/docs/wdc_debugging.html#debug-chrome">Debugging a WDC in Tableau Desktop 2019.4 (and later)</a>).</p>
  </li>
  <li>
    <p>In the Data pane, drag out a table to the join area (if it is not there already).</p>
  </li>
  <li>
    <p>Connect the Chrome Developer Tools to your WDC. Set your breakpoints on the <code class="language-plaintext highlighter-rouge">getSchema</code> and <code class="language-plaintext highlighter-rouge">getData</code> methods, and then click <strong>Update Now</strong>.</p>
  </li>
</ol>

<hr />

<h3 id="the-wdc-library-wdclib-version-not-supported">The WDC library (<code class="language-plaintext highlighter-rouge">wdclib</code>) version not supported</h3>

<p><strong>Details:</strong> Starting with Tableau 2019.4, Tableau no longer supports older versions of <code class="language-plaintext highlighter-rouge">wdclib</code> (the WDC library). This includes WDC versions 1.0, 1.1, 2.0.0, and 2.0.1. For more information, see <a href="/webdataconnector/docs/wdc_library_versions.html">WDC Versions</a>.</p>

<p><strong>Resolution:</strong> WDCs that use an old version of <code class="language-plaintext highlighter-rouge">wdclib</code> need to upgrade to the latest version. If you are a developer of a Web Data Connector, refer to the migration guide for the steps to upgrade from version 1.x, see <a href="/webdataconnector\docs\wdc_upgrade.html">Upgrading from WDC Version 1.x</a>. If you are already using a 2.x library, you should be able to just upgrade to a newer version of the library (for example, <code class="language-plaintext highlighter-rouge">wdclib-2.3.latest.js</code>). For more information, see <a href="/webdataconnector\docs\wdc_library_versions">WDC Versions</a>.</p>

<hr />

<h3 id="javascript-console-errors-such-as-not-a-valid-wdc-or-tableauxxx-not-a-valid-object">JavaScript console errors, such as <code class="language-plaintext highlighter-rouge">not a valid WDC</code> or <code class="language-plaintext highlighter-rouge">tableau.XXX not a valid object</code></h3>

<p><strong>Details:</strong> In Tableau 2019.3 and earlier, Web Data Connectors use QT WebKit as the internal browser and are initialized in a synchronous manner, which prevents the WDC code from executing until all bootstrapping code is complete. With QT WebEngine, the Chromium-based internal browser used in Tableau 2019.4 and later, it is not possible to make this guarantee. If your WDC attempts to use the <code class="language-plaintext highlighter-rouge">window.tableau</code> object before the <code class="language-plaintext highlighter-rouge">init</code> method is called, problems might occur as the API is not fully initialized.</p>

<p><strong>Resolution:</strong> For many WDCs, simply upgrading to the latest <code class="language-plaintext highlighter-rouge">wdclib</code> library will help. We have released patched versions of 2.1.x, 2.2.x, and 2.3.x to accommodate this. Make sure your WDC is using the latest version of one of those libraries: <code class="language-plaintext highlighter-rouge">wdclib-2.1.latest.js</code>, <code class="language-plaintext highlighter-rouge">wdclib-2.2.latest.js</code>, or <code class="language-plaintext highlighter-rouge">wdclib-2.3.latest.js</code>. You should also be aware that the WDC can’t reliably use the <code class="language-plaintext highlighter-rouge">window.tableau</code> object until after the WDC has been initialized. For example, it is illegal to use <code class="language-plaintext highlighter-rouge">window.tableau.log</code> before the WDC has been initialized. There is no resolution to this latter issue; WDCs should simply not do this.</p>

<hr />

<h3 id="mixed-mode-https-errors">Mixed-mode HTTP(S) errors</h3>

<p><strong>Details</strong>: In Tableau 2019.3 and earlier, which use the QT WebKit internal browser, mixed-mode HTTP and HTTPS calls are legal. For example, in earlier versions of Tableau, a WDC is able to make an AJAX request from an HTTPS host to an HTTP host, or can make HTTP requests for images, scripts, or other HTML elements from an HTTPS web page. In Tableau 2019.4 and later, the Chromium-based QT WebEngine browser reports errors when the WDC attempts mixed-mode calls.</p>

<p><strong>Resolution:</strong> Always use HTTPS endpoints. Do not use mixed-mode.</p>

<hr />

<h3 id="cookies-are-not-preserved-between-instances-of-the-wdc-connection-dialog">Cookies are not preserved between instances of the WDC connection dialog</h3>

<p><strong>Details:</strong> In Tableau 2019.3 and earlier, cookies might have been preserved under Qt WebKit WDC connection dialog instances. This was never intentionally supported and does not work in Tableau 2019.4 and later, which use the Chromium-based Qt WebEngine browser.</p>

<p><strong>Resolution:</strong> Don’t rely on cookies. Use <code class="language-plaintext highlighter-rouge">tableau.connectionData</code> to pass data and expect users may need to re-authenticate if you don’t preserve session data.</p>


            <!-- Footer -->
<footer>
    <div class="row">
            <hr class="footer-hr">
            <p>This site is open source. Suggestions and pull requests are welcome on our <a href="https://github.com/tableau/webdataconnector">GitHub page</a>.</p>
            <p><a href="https://www.tableau.com/en-us/legal" class="aLegal">LEGAL</a> <a href="https://www.salesforce.com/company/privacy/" class="aLegal">PRIVACY</a> &copy; 2003&ndash;<script>document.write(new Date().getFullYear())</script> TABLEAU SOFTWARE LLC. ALL RIGHTS RESERVED</p>
            <sub>Documentation last generated on: 2023-03-07 13:27:13 -0800</sub>
    </div>
</footer>

        </div>
    </div>
</body>

</html>
